
# c陷阱与缺陷

## 第0章 导读
    练习0-1.(这个练习比较有意思,它在提点我们)
        你是否愿意购买一个返修率很高的厂家生产的汽车？如果厂家声明它已经做出了改进，你的态度是否会改变？用户为你找出程序中的Bug，你真正损失的是什么？
    
    做开发的时候一定要小心，程序做完一定要进行大量的测试。
***
## 第1章 词法陷阱
>本章探讨符号和组成符号的字符间的关系，以及有关符号含义的一些常见误解
+ 1.1 =不同于==    

    - =为赋值运算符；     
    - ==为比较运算符；
    >注：在if判断中使用这两个符号的时候，一定要确认当前if应该用那个符号。
+ 1.2 &和| 不同于 &&和||    
    - &和|是对位进行操作的运算符    
    - &&和||是逻辑运算符    
    >特别的点主要是用在if判断语句中的时候。
+ 1.3 词法分析中的贪心法    
  此处表示c语言就像一个“大嘴怪”，他会将所有可以吞噬的字符都放在一起
  >例如1 ```y = x/*p;```此处会将p这个字符注释起来
  >例如2 ```a---b```表示的是a-- - b（一定是），而不是a - --b    

  怎样解析这个表达式？a+++++b
+ 1.4 整型常量    
  ```
  #define VALUE 010        //此处VALUE的值为8
  static int value = 010； //此处value的值也为8
  ```
  >整形常量定义的时候前面不要加0。如果一定要加0的话，一定要声明好十进制还是十六进制，否则一律默认为八进制。
  >>变量初始化、宏定义的时候要多加注意。
+ 1.5 字符与字符串    
  - 单引号引起来的一个字符实际上代表一个**整数**，整数值对应该字符在编译器中采用的字符集的序列值。例如'a'。    
  - 双引号引起来的是一个字符串，代表的事一个指向无名数组的**指针**，该数组被双引号之间的字符以及一个额外的二进制值为零的字符'\0'初始化。如"hello world"
***
## 第2章 语法陷阱
+ 2.1理解函数声明    
  ```(*(void (*)())0)()```    
  理解上式含义
+ 2.2运算符优先级问题
  c语言运算符优先级的问题，一定要适时在程序中添加括号。
  + 任何一个逻辑运算符的优先级低于任何一个关系运算符。
  + 移位云算法的优先级比算术运算符要低，但比关系运算符高。
+ 2.3注意作为语句结束标志的分号    
  if判断时，注意之后语句的处理，最好用{}，作为一个空语句。    
  类型定义完成时要注意一定要加一个分号。。。
  >注：善用分号为好，但是不要滥用，会使程序逻辑不清。
+ 2.4switch语句    
  >善用break，能达到好的效果。
+ 2.5函数调用    
  >如果f是一个函数，函数调用时通用形式为f(参数)，不能写成f,f代表函数f的地址。
+ 2.6“悬挂”else引发的问题    
  >c语言中有这样的规则：else始终与同一对括号内最近的未匹配的if结合，如下:    
  ```
  if(x == 0)   ------------1
    if(y == 0) --------------2
      error();
  else{
    z = x + y;
    f(&z);
  }
  ```
  注：以上这段代码中存在的else其实是与第2个if相结合的，能看出来吗？（看规则）。
***
## 第3章 语义陷阱

***
## 第4章 连接

***
## 第5章 库函数

***
## 第6章 预处理器

***
## 第7章 可移植性缺陷

***
## 第8章 建议与答案

***

**这是加粗的文字**
*这是倾斜的文字*`
***这是斜体加粗的文字***
~~这是加删除线的文字~~
